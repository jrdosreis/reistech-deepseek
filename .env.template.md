# ============================================================================
# REISTECH-DEEPSEEK - TEMPLATE DE CONFIGURAÇÃO DE AMBIENTE
# ============================================================================
# Use este arquivo como referência para criar seus próprios .env files
# Copie este arquivo para .env e preencha com suas configurações
#
# IMPORTANTE: NÃO COMITE .env files com credenciais reais no Git!
# Os .env files estão no .gitignore por razões de segurança.
# ============================================================================

# ============ 1. DADOS GERAIS DO SISTEMA ============
APP_NAME="Reistech"
APP_VERSION="1.0.0"
LOG_LEVEL="debug"
NODE_ENV=development
API_PREFIX=/api
PORT=3001

# ============ 2. BANCO DE DADOS POSTGRESQL ============
# Para Docker Compose: use "postgres" como host
# Para local: use "localhost"
DB_HOST=postgres
DB_PORT=5432
DB_NAME=reistechdb
DB_USER=reistechuser
DB_PASSWORD=sua_senha_segura_aqui
DATABASE_URL="postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}"
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10

# ============ 3. REDIS (CACHE / FILAS) ============
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CACHE_DB=0
REDIS_RATE_LIMIT_DB=1
REDIS_SESSION_DB=2
REDIS_URL="redis://${REDIS_HOST}:${REDIS_PORT}"

# ============ 4. JWT (AUTENTICAÇÃO) ============
# Gere com: openssl rand -base64 64
JWT_SECRET=sua_chave_secreta_jwt_aqui
JWT_REFRESH_SECRET=sua_chave_refresh_aqui
JWT_ACCESS_EXPIRY="15m"
JWT_REFRESH_EXPIRY="30d"
BCRYPT_ROUNDS=12

# ============ 5. ADMIN INICIAL ============
# Este usuário é criado no primeiro seed da aplicação
ADMIN_EMAIL="admin@reiscelulares.com.br"
ADMIN_PASSWORD="sua_senha_forte"
ADMIN_NAME="Administrador"

# ============ 6. E-MAIL (SMTP) ============
# Exemplo com Hostinger/Gmail/SendGrid
SMTP_HOST="smtp.hostinger.com"
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER="seu_email@dominio.com"
SMTP_PASSWORD="sua_senha_smtp"
SMTP_FROM="Reistech <seu_email@dominio.com>"

# ============ 7. NOTIFICAÇÕES (OPCIONAL) ============
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ============ 8. OBSERVABILIDADE (OPCIONAL) ============
SENTRY_DSN=
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=

# ============ 9. AWS / CDN (OPCIONAL) ============
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=
AWS_BACKUP_BUCKET=
CDN_URL=
CDN_BUCKET=

# ============ 10. DOMÍNIOS E CORS ============
# Para desenvolvimento local:
#   Backend: http://localhost:3001
#   Frontend: http://localhost:5173
#
# Para acessar via IP Windows:
#   Backend: http://192.168.100.232:3001
#   Frontend: http://192.168.100.232:5173
#
# CORS_WHITELIST deve incluir TODAS as origens que acessarão a API

API_DOMAIN="http://192.168.100.232:3001"
WEB_DOMAIN="http://192.168.100.232:5173"
ACME_EMAIL="admin@reiscelulares.com.br"
CORS_WHITELIST="http://localhost:5173,http://localhost:5174,http://192.168.100.232:5173,http://192.168.100.232:5174,http://127.0.0.1:5173"

# ============ 11. WHATSAPP ============
WHATSAPP_SESSION_PATH=./whatsapp-sessions
WHATSAPP_PUPPETEER_ARGS=--no-sandbox,--disable-setuid-sandbox
WHATSAPP_MAX_CONNECTIONS=5
WHATSAPP_QR_TIMEOUT=60000
WHATSAPP_AUTH_TIMEOUT=60000
WHATSAPP_RECONNECT_DELAY=5000

# ============ 12. RATE LIMITING ============
ENABLE_RATE_LIMIT=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5
WHATSAPP_RATE_LIMIT_WINDOW_MS=60000
WHATSAPP_RATE_LIMIT_MAX_MESSAGES=30

# ============ 13. LOGGING ============
LOG_DIR=./logs
LOG_MAX_FILES=14d
LOG_MAX_SIZE=20m
DEBUG=false

# ============ 14. UPLOADS ============
UPLOAD_PATH=./uploads
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ============ 15. BACKUP ============
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=7
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_ENABLED=true

# ============ 16. PERFORMANCE ============
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=300
COMPRESSION_ENABLED=true
COMPRESSION_THRESHOLD=1024

# ============ 17. WEBSOCKET ============
WS_PORT=3002
WS_PATH=/socket.io
WS_PING_TIMEOUT=60000
WS_PING_INTERVAL=25000

# ============ 18. TIMEZONE ============
TZ=America/Sao_Paulo

# ============ 19. FEATURES FLAGS ============
FEATURE_MULTI_WORKSPACE=true
FEATURE_ANALYTICS=true
FEATURE_EXPORT_REPORTS=true
FEATURE_WEBHOOKS=false
FEATURE_API_V2=false

# ============ FRONTEND (.env) ============
# Use em: frontend/.env
# VITE_API_URL=http://192.168.100.232:3001
# VITE_WS_URL=ws://192.168.100.232:3001
# VITE_APP_NAME=Reistech
# VITE_APP_VERSION=1.0.0
# VITE_DEBUG=false
# VITE_REQUEST_TIMEOUT=30000
